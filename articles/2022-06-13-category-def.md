---
title: "圏の本質は合成だったんだ!"
emoji: "🙌"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["圏論"]
published: false
---

> しかし圏の本質は 合成 (composition) にある．
> 
> [1. 合成の本質｜プログラマのための圏論 (執筆中)](https://zenn.dev/taketo1024/books/850b20937af93b/viewer)

この言葉が理解できるように，参考記事にある圏の具体例を使いつつ，自分なりに説明をしてみます．

* [はじめての圏論 その第1歩：しりとりの圏 - 檜山正幸のキマイラ飼育記 (はてなBlog)](https://m-hiyama.hatenablog.com/entry/20060821/1156120185)
* [完全実装付きでもう一度お送りします、しりとりの圏 - 檜山正幸のキマイラ飼育記 (はてなBlog)](https://m-hiyama.hatenablog.com/entry/20090424/1240552575)
* [はじめての圏論 その第2歩：行列の圏 - 檜山正幸のキマイラ飼育記 (はてなBlog)](https://m-hiyama.hatenablog.com/entry/20060822/1156213781)
* [はじめての圏論 その第3歩：極端な圏達 - 檜山正幸のキマイラ飼育記 (はてなBlog)](https://m-hiyama.hatenablog.com/entry/20060823/1156300345)

---

# 文字列つなぎ

参考記事
* [はじめての圏論 その第1歩：しりとりの圏 - 檜山正幸のキマイラ飼育記 (はてなBlog)](https://m-hiyama.hatenablog.com/entry/20060821/1156120185)
* [完全実装付きでもう一度お送りします、しりとりの圏 - 檜山正幸のキマイラ飼育記 (はてなBlog)](https://m-hiyama.hatenablog.com/entry/20090424/1240552575)

`りんご`，`ご`，`ごりら`，`らっぱ`など，ひらがなの文字列がある．

このひらがなの文字列を**合成**するルールを決めよう．

例えば，次のように合成することができる．

* `りんご`と`ごりら`を合成すると，`りんごりら`になる．
* `ごりら`と`らっぱ`を合成すると，`ごりらっぱ`になる．

`りんごりら`と`ごりらっぱ`も，`りんご`や`ごりら`と同じようにひらがなの文字列になった．
> `りんごりら`や`ごりらっぱ`という単語は存在しないが，ここで考えているのは**ひらがなの文字列**なので，単語でなくてもいい．

次に，ひらがなの文字列が合成できない場合も考える．例えば，

* `りんご`と`らっぱ`は合成できない．

では，合成できる場合と，できない場合の違いをどのように決めようか．
`りんご`の最後の文字は`'ご'`で，`ごりら`の最初の文字も`'ご'`であった．
これを二つのひらがなの文字列が合成できる条件にしよう．

同じように，`ごりら`の最後の文字と，`らっぱ`の最初の文字が，どちらも`'ら'`であったから，合成ができた．
`りんご`と`らっぱ`が合成できなかったのは，`りんご`の最後の文字が`'ご'`であるのに対し，`らっぱ`の最初の文字は，`'ら'`だったからだ．

次に，先ほど合成したひらがなの文字列をさらに合成してみる．

* `りんごりら`と`らっぱ`を合成すると，`りんごりらっぱ`になる．
* `りんご`と`ごりらっぱ`を合成すると，`りんごりらっぱ`になる．

どちらも`りんごりらっぱ`という同じひらがなの文字列になった．

次に，`ご`というひらがなの文字列との合成を考える．

`りんご`と`ご`を合成すると，`りんご`になる．
`ご`と`ごりら`を合成すると，`ごりら`になる．

`ご`と合成しても，ひらがなの文字列(`りんご`，`ごりら`)は変わらなかった．
